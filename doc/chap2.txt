  
  [1X2 [33X[0;0YOctonions[133X[101X
  
  [33X[0;0Y[5XGAP[105X   contains   limited   built-in   functionality   for  constructing  and
  manipulating  octonions.  The built-in [10XOctaveAlgebra[110X function constructs the
  split-octonion   algebra   over   some  field.  The  [5XALCO[105X  package  provides
  constructions of [13Xnon-split[113X octonion algebras in various bases.[133X
  
  
  [1X2.1 [33X[0;0YOctonion Algebras[133X[101X
  
  
  [1X2.1-1 [33X[0;0YOctonion Filters[133X[101X
  
  [33X[1;0Y[29X[2XIsOctonion[102X [32X filter[133X
  [33X[1;0Y[29X[2XIsOctonionCollection[102X [32X filter[133X
  [33X[1;0Y[29X[2XIsOctonionAlgebra[102X [32X filter[133X
  
  [33X[0;0YThese  filters  determine  whether  an  element  is an octonion, an octonion
  collection, or an octonion algebra.[133X
  
  [1X2.1-2 OctonionAlgebra[101X
  
  [33X[1;0Y[29X[2XOctonionAlgebra[102X( [3XF[103X ) [32X function[133X
  
  [33X[0;0YReturns  an  octonion  algebra  over field [3XF[103X in a standard orthonormal basis
  [23X\{e_{i}, i = 1,...,8\}[123X such that [23X1 = e_8[123X is the identity element and [23Xe_{i} =
  e_{i+1}e_{i+3}  =  -  e_{i+3}e_{i+1}[123X for [23Xi = 1,...,7[123X, with indices evaluated
  modulo 7.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XO := OctonionAlgebra(Rationals); e := Basis(O);;[127X[104X
    [4X[28X<algebra of dimension 8 over Rationals>[128X[104X
    [4X[25Xgap>[125X [27XLeftActingDomain(O);[127X[104X
    [4X[28XRationals[128X[104X
    [4X[25Xgap>[125X [27XAsList(e);[127X[104X
    [4X[28X[ e1, e2, e3, e4, e5, e6, e7, e8 ][128X[104X
    [4X[25Xgap>[125X [27XOne(O);[127X[104X
    [4X[28Xe8[128X[104X
    [4X[25Xgap>[125X [27Xe[1]*e[2];[127X[104X
    [4X[28Xe4[128X[104X
    [4X[25Xgap>[125X [27Xe[2]*e[1];[127X[104X
    [4X[28X(-1)*e4[128X[104X
    [4X[25Xgap>[125X [27XDerivations(Basis(O)); SemiSimpleType(last);[127X[104X
    [4X[28X<Lie algebra of dimension 14 over Rationals>[128X[104X
    [4X[28X"G2"[128X[104X
  [4X[32X[104X
  
  [1X2.1-3 OctavianIntegers[101X
  
  [33X[1;0Y[29X[2XOctavianIntegers[102X [32X global variable[133X
  [33X[1;0Y[29X[2XIsOctavianInt[102X( [3Xx[103X ) [32X operation[133X
  
  [33X[0;0YThe  [10XOctavianIntegers[110X  are  a  subring of the octonion algebra with elements
  that have the geometry of scaled [23XE_8[123X lattice. This ring is named and studied
  in  [CS03, p. 105]. [10XCanonicalBasis(OctavianIntegers)[110X returns [2XOctonionE8Basis[102X
  ([14X2.1-4[114X).  We  can  test whether an octonion is in [10XOctavianIntegers[110X using the
  operation [10XIsOctavianInt([3Xx[103X[10X)[110X.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27Xe := BasisVectors(Basis(OctavianIntegers));[127X[104X
    [4X[28X[ (-1/2)*e1+(1/2)*e5+(1/2)*e6+(1/2)*e7, (-1/2)*e1+(-1/2)*e2+(-1/2)*e4+(-1/2)*e7,[128X[104X
    [4X[28X  (1/2)*e2+(1/2)*e3+(-1/2)*e5+(-1/2)*e7, (1/2)*e1+(-1/2)*e3+(1/2)*e4+(1/2)*e5,[128X[104X
    [4X[28X  (-1/2)*e2+(1/2)*e3+(-1/2)*e5+(1/2)*e7, (1/2)*e2+(-1/2)*e4+(1/2)*e5+(-1/2)*e6,[128X[104X
    [4X[28X  (-1/2)*e1+(-1/2)*e3+(1/2)*e4+(-1/2)*e5, (1/2)*e1+(-1/2)*e4+(1/2)*e6+(-1/2)*e8 ][128X[104X
    [4X[25Xgap>[125X [27XForAll(e, IsOctavianInt);[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XForAll(e/2, IsOctavianInt);[127X[104X
    [4X[28Xfalse[128X[104X
  [4X[32X[104X
  
  [1X2.1-4 OctonionE8Basis[101X
  
  [33X[1;0Y[29X[2XOctonionE8Basis[102X [32X global variable[133X
  
  [33X[0;0YThe  [5XALCO[105X  package  also  loads a basis for [10XOctonionAlgebra([3XRationals[103X[10X)[110X which
  also serves as generators for [2XOctavianIntegers[102X ([14X2.1-3[114X).[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27X2*BasisVectors(OctonionE8Basis);[127X[104X
    [4X[28X[ (-1)*e1+e5+e6+e7, (-1)*e1+(-1)*e2+(-1)*e4+(-1)*e7, e2+e3+(-1)*e5+(-1)*e7,[128X[104X
    [4X[28X  e1+(-1)*e3+e4+e5, (-1)*e2+e3+(-1)*e5+e7, e2+(-1)*e4+e5+(-1)*e6,[128X[104X
    [4X[28X  (-1)*e1+(-1)*e3+e4+(-1)*e5, e1+(-1)*e4+e6+(-1)*e8 ][128X[104X
  [4X[32X[104X
  
  
  [1X2.2 [33X[0;0YProperties of Octonions[133X[101X
  
  [1X2.2-1 Norm[101X
  
  [33X[1;0Y[29X[2XNorm[102X( [3Xx[103X ) [32X method[133X
  
  [33X[0;0YReturns  the  norm  of octonion [3Xx[103X. Recall that an octonion algebra satisfies
  the composition property [23XN(xy) = N(x)N(y)[123X.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XList(Basis(Oct), x -> Norm(x));[127X[104X
    [4X[28X[ 1, 1, 1, 1, 1, 1, 1, 1 ][128X[104X
    [4X[25Xgap>[125X [27Xx := Random(Oct);; y := Random(Oct);;[127X[104X
    [4X[25Xgap>[125X [27XNorm(x*y) = Norm(x)*Norm(y);[127X[104X
    [4X[28Xtrue[128X[104X
  [4X[32X[104X
  
  [1X2.2-2 Trace[101X
  
  [33X[1;0Y[29X[2XTrace[102X( [3Xx[103X ) [32X method[133X
  
  [33X[0;0YReturns  the  trace  of  octonion  [3Xx[103X.  Note  that  [10XTrace([3Xx[103X[10X)[110X is an element of
  [10XLeftActingDomain([3XA[103X[10X)[110X, where [3XA[103X is the octonion algebra containing [3Xx[103X. The trace
  and real part are related via [10XRealPart([3Xx[103X[10X) = Trace([3Xx[103X[10X)*One([3Xx[103X[10X)/2[110X.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XList(Basis(Oct), x -> Trace(x));[127X[104X
    [4X[28X[ 0, 0, 0, 0, 0, 0, 0, 2 ][128X[104X
    [4X[25Xgap>[125X [27XList(Basis(Oct), x -> RealPart(x));[127X[104X
    [4X[28X[ 0*e1, 0*e1, 0*e1, 0*e1, 0*e1, 0*e1, 0*e1, e8 ][128X[104X
  [4X[32X[104X
  
  [1X2.2-3 ComplexConjugate[101X
  
  [33X[1;0Y[29X[2XComplexConjugate[102X( [3Xx[103X ) [32X method[133X
  
  [33X[0;0YReturns  the  octonion conjugate of octonion [3Xx[103X, defined by [10XOne(x)*Trace(x) -
  x[110X.[133X
  
  [1X2.2-4 RealPart[101X
  
  [33X[1;0Y[29X[2XRealPart[102X( [3Xx[103X ) [32X method[133X
  
  [33X[0;0YReturns the real component of octonion [3Xx[103X, defined by [10X(1/2)*One(x)*Trace(x)[110X.[133X
  
  
  [1X2.3 [33X[0;0YOther Octonion Tools[133X[101X
  
  [1X2.3-1 OctonionToRealVector[101X
  
  [33X[1;0Y[29X[2XOctonionToRealVector[102X( [3XBasis[103X, [3Xx[103X ) [32X function[133X
  
  [33X[0;0YLet  [3Xx[103X  be  an octonion vector of the form [23Xx = (x_1, x_2, ..., x_n)[123X, for [23Xx_i[123X
  octonion  valued coefficients. Let [3XBasis[103X be a basis for the octonion algebra
  containing  coefficients  [23Xx_i[123X. This function returns a vector [3Xy[103X of length [23X8n[123X
  containing  the  concatenation  of  the  coefficients of [23Xx_i[123X in the octonion
  basis given by [3XBasis[103X.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27Xe := BasisVectors(OctonionE8Basis);;[127X[104X
    [4X[25Xgap>[125X [27Xe{[1,2,3]};[127X[104X
    [4X[28X[ (-1/2)*e1+(1/2)*e5+(1/2)*e6+(1/2)*e7, (-1/2)*e1+(-1/2)*e2+(-1/2)*e4+(-1/2)*e7,[128X[104X
    [4X[28X  (1/2)*e2+(1/2)*e3+(-1/2)*e5+(-1/2)*e7 ][128X[104X
    [4X[25Xgap>[125X [27XOctonionToRealVector(OctonionE8Basis, e{[1,2,3]});[127X[104X
    [4X[28X[ 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0 ][128X[104X
  [4X[32X[104X
  
  [1X2.3-2 RealToOctonionVector[101X
  
  [33X[1;0Y[29X[2XRealToOctonionVector[102X( [3XBasis[103X, [3Xy[103X ) [32X function[133X
  
  [33X[0;0YThis  function  is  the  is  the  inverse  operation to [2XOctonionToRealVector[102X
  ([14X2.3-1[114X).[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XRealToOctonionVector(Basis(OctonionAlgebra(Rationals)), [1..16]);[127X[104X
    [4X[28X[ e1+(2)*e2+(3)*e3+(4)*e4+(5)*e5+(6)*e6+(7)*e7+(8)*e8, (9)*e1+(10)*e2+(11)*e3+(12)*e4+([128X[104X
    [4X[28X    13)*e5+(14)*e6+(15)*e7+(16)*e8 ][128X[104X
  [4X[32X[104X
  
  [1X2.3-3 VectorToIdempotentMatrix[101X
  
  [33X[1;0Y[29X[2XVectorToIdempotentMatrix[102X( [3Xx[103X ) [32X function[133X
  
  [33X[0;0YLet  [3Xx[103X  be  a  vector  satisfying  [10XIsHomogeneousList[110X  and [10XIsAssociative[110X with
  elements  that  are  [10XIsCyc[110X,  [10XIsQuaternion[110X, or [10XIsOctonion[110X. Then this function
  returns                 the                 idempotent                matrix
  [10XTransposedMat([ComplexConjugate([3Xx[103X[10X)])*[[3Xx[103X[10X]/Trace([3Xx[103X[10X)[110X.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27Xx := [One(Oct), Basis(Oct)[1], Basis(Oct)[2]];[127X[104X
    [4X[28X[ e8, e1, e2 ][128X[104X
    [4X[25Xgap>[125X [27Xy := VectorToIdempotentMatrix(x);; Display(y);[127X[104X
    [4X[28X[ [   (1/3)*e8,   (1/3)*e1,   (1/3)*e2 ],[128X[104X
    [4X[28X  [  (-1/3)*e1,   (1/3)*e8,  (-1/3)*e4 ],[128X[104X
    [4X[28X  [  (-1/3)*e2,   (1/3)*e4,   (1/3)*e8 ] ][128X[104X
    [4X[25Xgap>[125X [27XIsIdempotent(y);[127X[104X
    [4X[28Xtrue[128X[104X
  [4X[32X[104X
  
  [1X2.3-4 WeylReflection[101X
  
  [33X[1;0Y[29X[2XWeylReflection[102X( [3Xr[103X, [3Xx[103X ) [32X function[133X
  
  [33X[0;0YLet  [3Xr[103X  be  a  vector  satisfying  [10XIsHomogeneousList[110X and [10X IsAssociative[110X with
  elements    in    [10XIsCyc[110X,    [10XIsQuaternion[110X,    or    [10X   IsOctonion[110X   and   let
  [10XIsHomogeneousList(Flat([[3Xr[103X[10X,[3Xx[103X[10X]))[110X.   Then   this   function  returns  the  Weyl
  reflection    of    vector    [3Xx[103X    using    the    projector    defined   by
  [10XVectorToIdempotentMatrix([3Xr[103X[10X)[110X.    Specifically,    the    result    is   [10Xx   -
  2*x*VectorToIdempotentMatrix(r)[110X.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XWeylReflection([1,0,1],[0,1,1]);[127X[104X
    [4X[28X[ -1, 1, 0 ][128X[104X
  [4X[32X[104X
  
  
  [1X2.4 [33X[0;0YQuaternion and Icosian Tools[133X[101X
  
  [1X2.4-1 Norm[101X
  
  [33X[1;0Y[29X[2XNorm[102X( [3Xx[103X ) [32X method[133X
  
  [33X[0;0YReturns the norm of quaternion [3Xx[103X. Recall that a quaternion algebra satisfies
  the composition property [23XN(xy) = N(x)N(y)[123X.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XH := QuaternionAlgebra(Rationals); AsList(Basis(H));[127X[104X
    [4X[28X<algebra-with-one of dimension 4 over Rationals>[128X[104X
    [4X[28X[ e, i, j, k ][128X[104X
    [4X[25Xgap>[125X [27XList(Basis(H), x -> Norm(x));[127X[104X
    [4X[28X[ 1, 1, 1, 1 ][128X[104X
    [4X[25Xgap>[125X [27Xx := Random(H);; y := Random(H);; Norm(x*y) = Norm(x)*Norm(y);[127X[104X
    [4X[28Xtrue[128X[104X
  [4X[32X[104X
  
  [1X2.4-2 Trace[101X
  
  [33X[1;0Y[29X[2XTrace[102X( [3Xx[103X ) [32X method[133X
  
  [33X[0;0YReturns   the   trace   of   quaternion   [3Xx[103X,   such   that   [10XRealPart([3Xx[103X[10X)   =
  Trace([3Xx[103X[10X)*One([3Xx[103X[10X)/2[110X.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XH := QuaternionAlgebra(Rationals); AsList(Basis(H));[127X[104X
    [4X[28X<algebra-with-one of dimension 4 over Rationals>[128X[104X
    [4X[28X[ e, i, j, k ][128X[104X
    [4X[25Xgap>[125X [27XList(Basis(H), x -> Trace(x));[127X[104X
    [4X[28X[ 2, 0, 0, 0 ][128X[104X
  [4X[32X[104X
  
  [1X2.4-3 ComplexConjugate[101X
  
  [33X[1;0Y[29X[2XComplexConjugate[102X( [3Xx[103X ) [32X method[133X
  
  [33X[0;0YReturns the quaternion conjugate of quaternion [3Xx[103X, defined by [10XOne(x)*Trace(x)
  - x[110X.[133X
  
  [1X2.4-4 RealPart[101X
  
  [33X[1;0Y[29X[2XRealPart[102X( [3Xx[103X ) [32X method[133X
  
  [33X[0;0YUsing the built in [5XGAP[105X function, returns the real component of quaternion [3Xx[103X,
  equivalent  to [10X(1/2)*One(x)*Trace(x)[110X. Of note, the value of [10XImaginaryPart([3Xx[103X[10X)[110X
  as  defined  in  [5XGAP[105X  can  yield  surprising results (due to dividing by the
  imaginary unit [23Xi[123X) and should be used with caution.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XH := QuaternionAlgebra(Rationals); AsList(Basis(H));[127X[104X
    [4X[28X<algebra-with-one of dimension 4 over Rationals>[128X[104X
    [4X[28X[ e, i, j, k ][128X[104X
    [4X[25Xgap>[125X [27XList(Basis(H), x -> ComplexConjugate(x));[127X[104X
    [4X[28X[ e, (-1)*i, (-1)*j, (-1)*k ][128X[104X
    [4X[25Xgap>[125X [27XList(Basis(H), x -> RealPart(x));[127X[104X
    [4X[28X[ e, 0*e, 0*e, 0*e ][128X[104X
    [4X[25Xgap>[125X [27XList(Basis(H), x -> ImaginaryPart(x));[127X[104X
    [4X[28X[ 0*e, e, k, (-1)*j ][128X[104X
  [4X[32X[104X
  
  [1X2.4-5 QuaternionD4basis[101X
  
  [33X[1;0Y[29X[2XQuaternionD4basis[102X [32X global variable[133X
  
  [33X[0;0YThe  [5XALCO[105X  package  loads  a  basis for a quaternion algebra over ℚ with the
  geometry  of  a  [23XD_4[123X  simple  root  system.  The ℤ-span of this basis is the
  Hurwitz  ring.  These  basis  vectors  close  under  pairwise  reflection or
  multiplication to form a [23X D_4[123X root system.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XB := QuaternionD4basis;;[127X[104X
    [4X[25Xgap>[125X [27Xfor x in BasisVectors(B) do Display(x); od;[127X[104X
    [4X[28X(-1/2)*e+(-1/2)*i+(-1/2)*j+(1/2)*k[128X[104X
    [4X[28X(-1/2)*e+(-1/2)*i+(1/2)*j+(-1/2)*k[128X[104X
    [4X[28X(-1/2)*e+(1/2)*i+(-1/2)*j+(-1/2)*k[128X[104X
    [4X[28Xe[128X[104X
  [4X[32X[104X
  
  
  [1X2.4-6 [33X[0;0YGoldenModSigma[133X[101X
  
  [33X[1;0Y[29X[2XGoldenModSigma[102X( [3Xx[103X ) [32X function[133X
  
  [33X[0;0YFor [3Xx[103X in the golden field [10XNF(5,[ 1, 4 ])[110X, this function returns the rational
  coefficient of [10X1[110X in the basis [10XBasis(NF(5,[ 1, 4 ]), [1, (1-Sqrt(5))/2])[110X.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27Xsigma := (1-Sqrt(5))/2;; tau := (1+Sqrt(5))/2;;[127X[104X
    [4X[25Xgap>[125X [27Xx := 5 + 3*sigma;; GoldenModSigma(x);[127X[104X
    [4X[28X5 [128X[104X
    [4X[25Xgap>[125X [27XGoldenModSigma(sigma);[127X[104X
    [4X[28X0[128X[104X
    [4X[25Xgap>[125X [27XGoldenModSigma(tau);[127X[104X
    [4X[28X1[128X[104X
  [4X[32X[104X
  
  [1X2.4-7 IcosianH4basis[101X
  
  [33X[1;0Y[29X[2XIcosianH4basis[102X [32X global variable[133X
  
  [33X[0;0YThe  [5XALCO[105X  package  loads a basis for a quaternion algebra over [10XNF(5,[1,4])[110X.
  The  ℤ-span  of  this  basis  is the icosian ring. These basis vectors close
  under pairwise reflection or multiplication to form a [23XH_4[123X set of vectors.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XB := IcosianH4basis;;[127X[104X
    [4X[25Xgap>[125X [27Xfor x in BasisVectors(B) do Display(x); od;[127X[104X
    [4X[28X(-1)*i[128X[104X
    [4X[28X(-1/2*E(5)^2-1/2*E(5)^3)*i+(1/2)*j+(-1/2*E(5)-1/2*E(5)^4)*k[128X[104X
    [4X[28X(-1)*j[128X[104X
    [4X[28X(-1/2*E(5)-1/2*E(5)^4)*e+(1/2)*j+(-1/2*E(5)^2-1/2*E(5)^3)*k[128X[104X
  [4X[32X[104X
  
